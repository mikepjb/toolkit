#!/bin/bash

cd $(dirname $BASH_SOURCE)
BASE=$(pwd)

for rc in *rc gitconfig Xresources Xmodmap gitconfig tmux.conf; do
  ln -sfv $BASE/$rc ~/.$rc
done

mkdir -p $HOME/.vim/colors
ln -sfv $BASE/night.vim ~/.vim/colors/night.vim

if [ "$PLATFORM" == Darwin ]; then
  OSX_LOCATION=~/Library/Application\ Support/Sublime\ Text\ 3/Packages/User
  mkdir -p "$OSX_LOCATION"
  ln -sfv $BASE/sublime/* "$OSX_LOCATION"
else
  echo "linux sublime setup not implemented"
fi

configure_npm_directory() {
  mkdir -p ~/.npm-global
  npm config set prefix '~/.npm-global'
}

setup_go_tools() {
  go get golang.org/x/tools/cmd/godoc
  go get -u github.com/nsf/gocode # autocomplete tool
  go install # golang.org/x/tools/cmd/godoc

  go get golang.org/x/mobile/cmd/gomobile
  go get github.com/golang/go # download go core source code
}
