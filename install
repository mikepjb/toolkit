#!/bin/bash

cd $(dirname $BASH_SOURCE)
BASE=$(pwd)

for rc in *rc gitconfig Xresources Xmodmap gitconfig tmux.conf mongorc.js ctags; do
  ln -sfv $BASE/$rc ~/.$rc
done

mkdir -p $HOME/.vim/colors
ln -sfv $BASE/bare.vim ~/.vim/colors/bare.vim
ln -sfv $BASE/en.utf-8.add ~/.vim/en.utf-8.add

mkdir -p $HOME/.config/nvim/colors
ln -sfv $BASE/vimrc ~/.config/nvim/init.vim
ln -sfv $BASE/bare.vim ~/.config/nvim/colors/bare.vim

mkdir -p $HOME/.vim/autoload
ln -sfv $BASE/autoload.vim ~/.vim/autoload/autoload.vim

mkdir -p $HOME/.config/nvim/autoload
ln -sfv $BASE/autoload.vim ~/.config/nvim/autoload/autoload.vim

symlink_emacs_configuration() {
    mkdir -p ~/.emacs.d
    ln -sfv $BASE/init.el ~/.emacs.d/init.el
    [ -L ~/.emacs.d/lib ] && unlink ~/.emacs.d/lib
    ln -sfv $BASE/lib ~/.emacs.d/lib
}

symlink_emacs_configuration


configure_npm_directory() {
  mkdir -p ~/.npm-global
  npm config set prefix '~/.npm-global'
  # curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
}

setup_go_tools() {
  go get golang.org/x/tools/cmd/godoc
  go get -u github.com/nsf/gocode # autocomplete tool
  go get github.com/cortesi/devd # hot reloading web server
  go install # golang.org/x/tools/cmd/godoc

  go get golang.org/x/tools/cmd/goimports # gofmt w/ autoinclude imports

  go get golang.org/x/mobile/cmd/gomobile
  go get github.com/golang/go # download go core source code

  go get -u github.com/golang/dep/cmd/dep
}

# setup_go_tools
